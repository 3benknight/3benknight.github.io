{"ast":null,"code":"var _jsxFileName = \"/Users/benjaminknight/Documents/UMD/CMSC734/nivo-charts/src/components/BarChart.jsx\",\n  _s = $RefreshSig$();\n// src/components/CalendarChart.jsx\nimport React, { useState, useEffect } from 'react';\nimport Papa from 'papaparse';\nimport { ResponsiveCalendar } from '@nivo/calendar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CalendarChart = () => {\n  _s();\n  var _data$, _data;\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetch('../../../data/campus.csv').then(response => response.text()).then(csvText => {\n      Papa.parse(csvText, {\n        header: true,\n        dynamicTyping: true,\n        complete: result => {\n          console.log(result.data);\n          const rows = result.data;\n          // Identify keys that represent monthly kBtu values.\n          // Exclude fields like \"Building ID\", \"Building Name\", and \"Total (kBtu)\"\n          const monthlyKeys = result.meta.fields.filter(field => field.endsWith('(kBtu)') && field !== 'Total (kBtu)' && field !== 'Building ID' && field !== 'Building Name');\n          // Aggregate values by month.\n          const totalsByDate = {};\n          rows.forEach(row => {\n            monthlyKeys.forEach(key => {\n              // Remove the trailing \" (kBtu)\" to get a raw date string (e.g., \"Feb 2020\")\n              const rawDate = key.replace(' (kBtu)', '');\n              // Append a day so that the Date object parses it correctly.\n              const dateObj = new Date(rawDate + ' 1');\n              if (isNaN(dateObj)) return;\n              const isoDate = dateObj.toISOString().slice(0, 10);\n              if (!totalsByDate[isoDate]) {\n                totalsByDate[isoDate] = 0;\n              }\n              const value = row[key] || 0;\n              totalsByDate[isoDate] += value;\n            });\n          });\n          // Convert aggregated data to an array sorted by date.\n          const calendarData = Object.keys(totalsByDate).map(day => ({\n            day,\n            value: totalsByDate[day]\n          })).sort((a, b) => new Date(a.day) - new Date(b.day));\n          setData(calendarData);\n          setLoading(false);\n        }\n      });\n    }).catch(error => {\n      console.error('Error loading campus.csv:', error);\n      setLoading(false);\n    });\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading data...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 23\n  }, this);\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: 400\n    },\n    children: /*#__PURE__*/_jsxDEV(ResponsiveCalendar, {\n      data: data,\n      from: ((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.day) || \"2020-01-01\",\n      to: ((_data = data[data.length - 1]) === null || _data === void 0 ? void 0 : _data.day) || \"2024-12-31\",\n      emptyColor: \"#eeeeee\",\n      colors: [\"#61cdbb\", \"#97e3d5\", \"#e8c1a0\", \"#f47560\"],\n      margin: {\n        top: 40,\n        right: 40,\n        bottom: 40,\n        left: 40\n      },\n      yearSpacing: 40,\n      monthBorderColor: \"#ffffff\",\n      dayBorderWidth: 2,\n      dayBorderColor: \"#ffffff\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(CalendarChart, \"YP7e7Smzxlgf2d3MqLcgRZjo83U=\");\n_c = CalendarChart;\nexport default CalendarChart;\nvar _c;\n$RefreshReg$(_c, \"CalendarChart\");","map":{"version":3,"names":["React","useState","useEffect","Papa","ResponsiveCalendar","jsxDEV","_jsxDEV","CalendarChart","_s","_data$","_data","data","setData","loading","setLoading","fetch","then","response","text","csvText","parse","header","dynamicTyping","complete","result","console","log","rows","monthlyKeys","meta","fields","filter","field","endsWith","totalsByDate","forEach","row","key","rawDate","replace","dateObj","Date","isNaN","isoDate","toISOString","slice","value","calendarData","Object","keys","map","day","sort","a","b","catch","error","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","from","to","length","emptyColor","colors","margin","top","right","bottom","left","yearSpacing","monthBorderColor","dayBorderWidth","dayBorderColor","_c","$RefreshReg$"],"sources":["/Users/benjaminknight/Documents/UMD/CMSC734/nivo-charts/src/components/BarChart.jsx"],"sourcesContent":["// src/components/CalendarChart.jsx\nimport React, { useState, useEffect } from 'react';\nimport Papa from 'papaparse';\nimport { ResponsiveCalendar } from '@nivo/calendar';\n\nconst CalendarChart = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch('../../../data/campus.csv')\n      .then(response => response.text())\n      .then(csvText => {\n        Papa.parse(csvText, {\n          header: true,\n          dynamicTyping: true,\n          complete: (result) => {\n            console.log(result.data);\n            const rows = result.data;\n            // Identify keys that represent monthly kBtu values.\n            // Exclude fields like \"Building ID\", \"Building Name\", and \"Total (kBtu)\"\n            const monthlyKeys = result.meta.fields.filter(\n              field =>\n                field.endsWith('(kBtu)') &&\n                field !== 'Total (kBtu)' &&\n                field !== 'Building ID' &&\n                field !== 'Building Name'\n            );\n            // Aggregate values by month.\n            const totalsByDate = {};\n            rows.forEach(row => {\n              monthlyKeys.forEach(key => {\n                // Remove the trailing \" (kBtu)\" to get a raw date string (e.g., \"Feb 2020\")\n                const rawDate = key.replace(' (kBtu)', '');\n                // Append a day so that the Date object parses it correctly.\n                const dateObj = new Date(rawDate + ' 1');\n                if (isNaN(dateObj)) return;\n                const isoDate = dateObj.toISOString().slice(0, 10);\n                if (!totalsByDate[isoDate]) {\n                  totalsByDate[isoDate] = 0;\n                }\n                const value = row[key] || 0;\n                totalsByDate[isoDate] += value;\n              });\n            });\n            // Convert aggregated data to an array sorted by date.\n            const calendarData = Object.keys(totalsByDate)\n              .map(day => ({\n                day,\n                value: totalsByDate[day]\n              }))\n              .sort((a, b) => new Date(a.day) - new Date(b.day));\n\n            setData(calendarData);\n            setLoading(false);\n          }\n        });\n      })\n      .catch(error => {\n        console.error('Error loading campus.csv:', error);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <div>Loading data...</div>;\n\n  console.log(data);\n\n  return (\n    <div style={{ height: 400 }}>\n      <ResponsiveCalendar\n        data={data}\n        from={data[0]?.day || \"2020-01-01\"}\n        to={data[data.length - 1]?.day || \"2024-12-31\"}\n        emptyColor=\"#eeeeee\"\n        colors={[\"#61cdbb\", \"#97e3d5\", \"#e8c1a0\", \"#f47560\"]}\n        margin={{ top: 40, right: 40, bottom: 40, left: 40 }}\n        yearSpacing={40}\n        monthBorderColor=\"#ffffff\"\n        dayBorderWidth={2}\n        dayBorderColor=\"#ffffff\"\n      />\n    </div>\n  );\n};\n\nexport default CalendarChart;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,kBAAkB,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,MAAA,EAAAC,KAAA;EAC1B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACda,KAAK,CAAC,0BAA0B,CAAC,CAC9BC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,OAAO,IAAI;MACfhB,IAAI,CAACiB,KAAK,CAACD,OAAO,EAAE;QAClBE,MAAM,EAAE,IAAI;QACZC,aAAa,EAAE,IAAI;QACnBC,QAAQ,EAAGC,MAAM,IAAK;UACpBC,OAAO,CAACC,GAAG,CAACF,MAAM,CAACb,IAAI,CAAC;UACxB,MAAMgB,IAAI,GAAGH,MAAM,CAACb,IAAI;UACxB;UACA;UACA,MAAMiB,WAAW,GAAGJ,MAAM,CAACK,IAAI,CAACC,MAAM,CAACC,MAAM,CAC3CC,KAAK,IACHA,KAAK,CAACC,QAAQ,CAAC,QAAQ,CAAC,IACxBD,KAAK,KAAK,cAAc,IACxBA,KAAK,KAAK,aAAa,IACvBA,KAAK,KAAK,eACd,CAAC;UACD;UACA,MAAME,YAAY,GAAG,CAAC,CAAC;UACvBP,IAAI,CAACQ,OAAO,CAACC,GAAG,IAAI;YAClBR,WAAW,CAACO,OAAO,CAACE,GAAG,IAAI;cACzB;cACA,MAAMC,OAAO,GAAGD,GAAG,CAACE,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;cAC1C;cACA,MAAMC,OAAO,GAAG,IAAIC,IAAI,CAACH,OAAO,GAAG,IAAI,CAAC;cACxC,IAAII,KAAK,CAACF,OAAO,CAAC,EAAE;cACpB,MAAMG,OAAO,GAAGH,OAAO,CAACI,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;cAClD,IAAI,CAACX,YAAY,CAACS,OAAO,CAAC,EAAE;gBAC1BT,YAAY,CAACS,OAAO,CAAC,GAAG,CAAC;cAC3B;cACA,MAAMG,KAAK,GAAGV,GAAG,CAACC,GAAG,CAAC,IAAI,CAAC;cAC3BH,YAAY,CAACS,OAAO,CAAC,IAAIG,KAAK;YAChC,CAAC,CAAC;UACJ,CAAC,CAAC;UACF;UACA,MAAMC,YAAY,GAAGC,MAAM,CAACC,IAAI,CAACf,YAAY,CAAC,CAC3CgB,GAAG,CAACC,GAAG,KAAK;YACXA,GAAG;YACHL,KAAK,EAAEZ,YAAY,CAACiB,GAAG;UACzB,CAAC,CAAC,CAAC,CACFC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIb,IAAI,CAACY,CAAC,CAACF,GAAG,CAAC,GAAG,IAAIV,IAAI,CAACa,CAAC,CAACH,GAAG,CAAC,CAAC;UAEpDvC,OAAO,CAACmC,YAAY,CAAC;UACrBjC,UAAU,CAAC,KAAK,CAAC;QACnB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,CACDyC,KAAK,CAACC,KAAK,IAAI;MACd/B,OAAO,CAAC+B,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD1C,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,OAAO,EAAE,oBAAOP,OAAA;IAAAmD,QAAA,EAAK;EAAe;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAE9CpC,OAAO,CAACC,GAAG,CAACf,IAAI,CAAC;EAEjB,oBACEL,OAAA;IAAKwD,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAI,CAAE;IAAAN,QAAA,eAC1BnD,OAAA,CAACF,kBAAkB;MACjBO,IAAI,EAAEA,IAAK;MACXqD,IAAI,EAAE,EAAAvD,MAAA,GAAAE,IAAI,CAAC,CAAC,CAAC,cAAAF,MAAA,uBAAPA,MAAA,CAAS0C,GAAG,KAAI,YAAa;MACnCc,EAAE,EAAE,EAAAvD,KAAA,GAAAC,IAAI,CAACA,IAAI,CAACuD,MAAM,GAAG,CAAC,CAAC,cAAAxD,KAAA,uBAArBA,KAAA,CAAuByC,GAAG,KAAI,YAAa;MAC/CgB,UAAU,EAAC,SAAS;MACpBC,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAE;MACrDC,MAAM,EAAE;QAAEC,GAAG,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,MAAM,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAG,CAAE;MACrDC,WAAW,EAAE,EAAG;MAChBC,gBAAgB,EAAC,SAAS;MAC1BC,cAAc,EAAE,CAAE;MAClBC,cAAc,EAAC;IAAS;MAAAnB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACrD,EAAA,CA/EID,aAAa;AAAAuE,EAAA,GAAbvE,aAAa;AAiFnB,eAAeA,aAAa;AAAC,IAAAuE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}